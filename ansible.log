2025-11-24 12:01:09,390 p=90207 u=mopets n=ansible INFO| Using /Users/mopets/opencode_repo/mac-dev-playbook/ansible.cfg as config file
2025-11-24 12:01:16,222 p=90207 u=mopets n=ansible INFO| PLAY [Configure host.] ***************************************************************************************************
2025-11-24 12:01:16,259 p=90207 u=mopets n=ansible INFO| TASK [Gathering Facts] ***************************************************************************************************
2025-11-24 12:01:16,952 p=90207 u=mopets n=ansible WARNING| [WARNING]: Host '127.0.0.1' is using the discovered Python interpreter at '/opt/homebrew/bin/python3.14', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.20/reference_appendices/interpreter_discovery.html for more information.

2025-11-24 12:01:16,952 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-24 12:01:16,957 p=90207 u=mopets n=ansible INFO| TASK [Include playbook configuration.] ***********************************************************************************
2025-11-24 12:01:16,978 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=/Users/mopets/opencode_repo/mac-dev-playbook/config.yml) => 
    ansible_facts:
        configure_dock: false
        configure_dotfiles: false
        configure_osx: false
        configure_terminal: false
        homebrew_cask_apps:
        - aerospace
        - balenaetcher
        - bambu-studio
        - betterdisplay
        - bitbox
        - bitwarden
        - bluesnooze
        - brave-browser
        - calibre
        - chatgpt
        - citrix-workspace
        - codex
        - displaylink
        - duckduckgo
        - firefox
        - font-hack-nerd-font
        - freecad
        - google-chrome
        - google-drive
        - grayjay
        - handbrake
        - handbrake-app
        - hiddenbar
        - iterm2
        - jiggler
        - karabiner-elements
        - keepassxc
        - keycastr
        - ledger-live
        - libreoffice
        - localsend
        - logos
        - makemkv
        - microsoft-edge
        - nextcloud
        - nextcloud-vfs
        - nordvpn
        - notunes
        - openmtp
        - paragon-ntfs
        - parallels@18
        - proton-drive
        - raspberry-pi-imager
        - raycast
        - rectangle
        - rustdesk
        - signal
        - spotify
        - steam
        - telegram
        - thunderbird
        - tor-browser
        - visual-studio-code
        - vlc
        - wasabi-wallet
        - webex
        - whatsapp
        - zettlr
        - zoom
        homebrew_installed_packages:
        - ansible-lint
        - cask
        - chezmoi
        - fd
        - fdupes
        - felixkratz/formulae/sketchybar
        - fonttools
        - fprobe
        - fzf
        - git
        - gnupg
        - handbrake
        - htop
        - jdupes
        - mas
        - minikube
        - molecule
        - neovim
        - ocrmypdf
        - podman
        - ruby
        - sshpass
        - sst/tap/opencode
        - stow
        - tealdeer
        - terraform
        - tesseract-lang
        - tmux
        - tree-sitter-cli
        - watch
        - wget
        - yamllint
        - yt-dlp
        mas_installed_app_ids:
        -   id: 1444383602
            name: ' Goodnotes  '
        -   id: null
            name: '408981434  iMovie     '
        -   id: null
            name: '409183694  Keynote    '
        -   id: null
            name: '634159523  MainStage  '
        -   id: null
            name: '409203825  Numbers    '
        -   id: null
            name: '409201541  Pages      '
        -   id: 1528890965
            name: ' TextSniper '
        -   id: 1451685025
            name: ' WireGuard  '
    ansible_included_var_files:
    - /Users/mopets/opencode_repo/mac-dev-playbook/config.yml
    ansible_loop_var: item
    changed: false
    item: /Users/mopets/opencode_repo/mac-dev-playbook/config.yml

2025-11-24 12:01:16,984 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Am I running on Mac OS X?] ***************************************************
2025-11-24 12:01:16,995 p=90207 u=mopets n=ansible WARNING| [WARNING]: Deprecation warnings can be disabled by setting `deprecation_warnings=False` in ansible.cfg.

2025-11-24 12:01:16,995 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-dev-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:7:9

5   fail:
6     msg: Target host is not running Mac OS X
7   when: ansible_distribution != 'MacOSX'
          ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:16,995 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: ansible_distribution != 'MacOSX'
    skip_reason: Conditional result was False

2025-11-24 12:01:16,999 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Remove existing Command Line Tools installation] *****************************
2025-11-24 12:01:17,010 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: force_install
    skip_reason: Conditional result was False

2025-11-24 12:01:17,014 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check that the Command Line Tools path is present] ***************************
2025-11-24 12:01:17,376 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    stat:
        atime: 1685523932.6536536
        attr_flags: ''
        attributes: []
        birthtime: 1638500507.0
        block_size: 4096
        blocks: 0
        charset: binary
        ctime: 1682678284.3454053
        dev: 16777232
        device_type: 0
        executable: true
        exists: true
        flags: 0
        generation: 0
        gid: 0
        gr_name: wheel
        inode: 9157639
        isblk: false
        ischr: false
        isdir: true
        isfifo: false
        isgid: false
        islnk: false
        isreg: false
        issock: false
        isuid: false
        mimetype: inode/directory
        mode: '0755'
        mtime: 1682678284.3454053
        nlink: 5
        path: /Library/Developer/CommandLineTools
        pw_name: root
        readable: true
        rgrp: true
        roth: true
        rusr: true
        size: 160
        uid: 0
        version: null
        wgrp: false
        woth: false
        writeable: false
        wusr: true
        xgrp: true
        xoth: true
        xusr: true

2025-11-24 12:01:17,381 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Is the C++ compiler useable?] ************************************************
2025-11-24 12:01:17,886 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    cmd:
    - g++
    - --version
    delta: '0:00:00.145802'
    end: '2025-11-24 12:01:17.853006'
    msg: ''
    rc: 0
    start: '2025-11-24 12:01:17.707204'
    stderr: ''
    stderr_lines: <omitted>
    stdout: |-
        Apple clang version 17.0.0 (clang-1700.4.4.1)
        Target: arm64-apple-darwin25.1.0
        Thread model: posix
        InstalledDir: /Library/Developer/CommandLineTools/usr/bin
    stdout_lines: <omitted>

2025-11-24 12:01:17,890 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check the Command Line Tools package metadata] *******************************
2025-11-24 12:01:18,358 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    cmd:
    - pkgutil
    - --pkg-info=com.apple.pkg.CLTools_Executables
    delta: '0:00:00.202150'
    end: '2025-11-24 12:01:18.324964'
    msg: ''
    rc: 0
    start: '2025-11-24 12:01:18.122814'
    stderr: ''
    stderr_lines: <omitted>
    stdout: |-
        package-id: com.apple.pkg.CLTools_Executables
        version: 26.1.0.0.1.1761104275
        volume: /
        location: /
        install-time: 1763652884
    stdout_lines: <omitted>

2025-11-24 12:01:18,362 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Prepare to install Command Line Tools] ***************************************
2025-11-24 12:01:18,372 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: pkg_info.rc != 0 or compiler.rc != 0 or not clt.stat.exists
    skip_reason: Conditional result was False

2025-11-24 12:01:18,376 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check for Command Line Tools in Software Update list (MacOS < 10.15).] *******
2025-11-24 12:01:18,390 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-dev-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:55:7

53   register: su_list_old
54   when:
55     - ansible_distribution_version is version('10.15', '<')
         ^ column 7

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:18,391 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: ansible_distribution_version is version('10.15', '<')
    skip_reason: Conditional result was False

2025-11-24 12:01:18,395 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check for Command Line Tools in Software Update list (MacOS >= 10.15).] ******
2025-11-24 12:01:18,409 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-dev-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:74:7

72   register: su_list_new
73   when:
74     - ansible_distribution_version is version('10.15', '>=')
         ^ column 7

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:18,410 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: pkg_info.rc != 0 or compiler.rc != 0 or not clt.stat.exists
    skip_reason: Conditional result was False

2025-11-24 12:01:18,415 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : set su_list for (MacOS < 10.15).] ********************************************
2025-11-24 12:01:18,428 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: su_list_old is not skipped
    skip_reason: Conditional result was False

2025-11-24 12:01:18,432 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : set su_list for (MacOS >= 10.15).] *******************************************
2025-11-24 12:01:18,446 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: su_list_new is not skipped
    skip_reason: Conditional result was False

2025-11-24 12:01:18,451 p=90207 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Install Command Line Tools] **************************************************
2025-11-24 12:01:18,461 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: pkg_info.rc != 0 or compiler.rc != 0 or not clt.stat.exists
    skip_reason: Conditional result was False

2025-11-24 12:01:18,469 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Determine Homebrew ownership variables] *************************************************
2025-11-24 12:01:18,501 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:5:21

3   set_fact:
4     homebrew_user: '{{ homebrew_user | default(ansible_user_id) }}'
5     homebrew_group: '{{ homebrew_group | default(ansible_user_gid) }}'
                      ^ column 21

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:18,501 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:4:20

2 - name: Determine Homebrew ownership variables
3   set_fact:
4     homebrew_user: '{{ homebrew_user | default(ansible_user_id) }}'
                     ^ column 20

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:18,501 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    ansible_facts:
        homebrew_group: 20
        homebrew_user: mopets
    changed: false

2025-11-24 12:01:18,505 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (M1).] *************************
2025-11-24 12:01:19,080 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:14:9

12     state: directory
13   become: true
14   when: ansible_machine == 'arm64'
           ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,080 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:11:12

 9   file:
10     path: "{{ homebrew_prefix }}"
11     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,081 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/defaults/main.yml:4:18

2 homebrew_repo: https://github.com/Homebrew/brew
3
4 homebrew_prefix: "{{ (ansible_machine == 'arm64') | ternary('/opt/homebrew', '/usr/local') }}"
                   ^ column 18

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,081 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    gid: 20
    group: staff
    mode: '0775'
    owner: mopets
    path: /opt/homebrew
    size: 1184
    state: directory
    uid: 501

2025-11-24 12:01:19,085 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (MacOS >= 10.13).] *************
2025-11-24 12:01:19,097 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:17:9

15
16 - name: Ensure Homebrew parent directory has correct permissions (Intel).
17   when: ansible_machine == 'x86_64'
           ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,097 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: ansible_machine == 'x86_64'
    skip_reason: Conditional result was False

2025-11-24 12:01:19,101 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (MacOS < 10.13).] **************
2025-11-24 12:01:19,113 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: ansible_machine == 'x86_64'
    skip_reason: Conditional result was False

2025-11-24 12:01:19,117 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Check if homebrew already exists.] ******************************************************
2025-11-24 12:01:19,403 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    stat:
        atime: 1763970645.253101
        attr_flags: ''
        attributes: []
        birthtime: 1763457514.703847
        block_size: 4096
        blocks: 16
        charset: us-ascii
        checksum: 4ec636a465d2893747d790638f3aecb68561edca
        ctime: 1763970620.7641804
        dev: 16777232
        device_type: 0
        executable: true
        exists: true
        flags: 0
        generation: 0
        gid: 20
        gr_name: staff
        inode: 119265023
        isblk: false
        ischr: false
        isdir: false
        isfifo: false
        isgid: false
        islnk: false
        isreg: true
        issock: false
        isuid: false
        mimetype: text/x-shellscript
        mode: '0755'
        mtime: 1763457514.7041018
        nlink: 1
        path: /opt/homebrew/bin/brew
        pw_name: mopets
        readable: true
        rgrp: true
        roth: true
        rusr: true
        size: 8166
        uid: 501
        version: null
        wgrp: false
        woth: false
        writeable: true
        wusr: true
        xgrp: true
        xoth: true
        xusr: true

2025-11-24 12:01:19,407 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew directory exists.] ******************************************************
2025-11-24 12:01:19,894 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:46:12

44     path: "{{ homebrew_install_path }}"
45     owner: "{{ homebrew_user }}"
46     group: "{{ homebrew_group }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,895 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:45:12

43   file:
44     path: "{{ homebrew_install_path }}"
45     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,895 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    gid: 20
    group: staff
    mode: '0775'
    owner: mopets
    path: /opt/homebrew
    size: 1184
    state: directory
    uid: 501

2025-11-24 12:01:19,899 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew is installed.] **********************************************************
2025-11-24 12:01:19,910 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:60:16

58     depth: 1
59   become: true
60   become_user: "{{ homebrew_user }}"
                  ^ column 16

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:19,911 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: not pre_installed_brew.stat.exists
    skip_reason: Conditional result was False

2025-11-24 12:01:19,915 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure proper permissions and ownership on homebrew_brew_bin_path dirs.] ****************
2025-11-24 12:01:20,384 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:69:12

67     state: directory
68     owner: "{{ homebrew_user }}"
69     group: "{{ homebrew_group }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:20,384 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:68:12

66     path: "{{ homebrew_brew_bin_path }}"
67     state: directory
68     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:20,384 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    gid: 20
    group: staff
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/bin
    size: 21888
    state: directory
    uid: 501

2025-11-24 12:01:20,390 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure proper ownership on homebrew_install_path subdirs.] ******************************
2025-11-24 12:01:26,124 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:78:12

76     state: directory
77     owner: "{{ homebrew_user }}"
78     group: "{{ homebrew_group }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:26,124 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:77:12

75     path: "{{ homebrew_install_path }}"
76     state: directory
77     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:26,125 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    gid: 20
    group: staff
    mode: '0775'
    owner: mopets
    path: /opt/homebrew
    size: 1184
    state: directory
    uid: 501

2025-11-24 12:01:26,129 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Check if homebrew binary is already in place.] ******************************************
2025-11-24 12:01:26,424 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    stat:
        atime: 1763970645.253101
        attr_flags: ''
        attributes: []
        birthtime: 1763457514.703847
        block_size: 4096
        blocks: 16
        charset: us-ascii
        checksum: 4ec636a465d2893747d790638f3aecb68561edca
        ctime: 1763970620.7641804
        dev: 16777232
        device_type: 0
        executable: true
        exists: true
        flags: 0
        generation: 0
        gid: 20
        gr_name: staff
        inode: 119265023
        isblk: false
        ischr: false
        isdir: false
        isfifo: false
        isgid: false
        islnk: false
        isreg: true
        issock: false
        isuid: false
        mimetype: text/x-shellscript
        mode: '0755'
        mtime: 1763457514.7041018
        nlink: 1
        path: /opt/homebrew/bin/brew
        pw_name: mopets
        readable: true
        rgrp: true
        roth: true
        rusr: true
        size: 8166
        uid: 501
        version: null
        wgrp: false
        woth: false
        writeable: true
        wusr: true
        xgrp: true
        xoth: true
        xusr: true

2025-11-24 12:01:26,428 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Symlink brew to homebrew_brew_bin_path.] ************************************************
2025-11-24 12:01:26,438 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: not homebrew_binary.stat.exists
    skip_reason: Conditional result was False

2025-11-24 12:01:26,441 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Add missing folder if not on Apple-chipset] *********************************************
2025-11-24 12:01:26,451 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:101:9

 99   set_fact:
100     homebrew_folders_base: "{{ homebrew_folders_base + ['Homebrew'] }}"
101   when: ansible_machine != 'arm64'
            ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:26,451 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: ansible_machine != 'arm64'
    skip_reason: Conditional result was False

2025-11-24 12:01:26,455 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure proper homebrew folders are in place.] *******************************************
2025-11-24 12:01:26,916 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:108:12

106     state: directory
107     owner: "{{ homebrew_user }}"
108     group: "{{ homebrew_group }}"
               ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:26,916 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:107:12

105     path: "{{ homebrew_prefix }}/{{ item }}"
106     state: directory
107     owner: "{{ homebrew_user }}"
               ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:26,917 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=Cellar) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: Cellar
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/Cellar
    size: 6016
    state: directory
    uid: 501

2025-11-24 12:01:27,358 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=Frameworks) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: Frameworks
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/Frameworks
    size: 128
    state: directory
    uid: 501

2025-11-24 12:01:27,803 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=Caskroom) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: Caskroom
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/Caskroom
    size: 1728
    state: directory
    uid: 501

2025-11-24 12:01:28,247 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=bin) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: bin
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/bin
    size: 21888
    state: directory
    uid: 501

2025-11-24 12:01:28,685 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=etc) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: etc
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/etc
    size: 512
    state: directory
    uid: 501

2025-11-24 12:01:29,146 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=include) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: include
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/include
    size: 6784
    state: directory
    uid: 501

2025-11-24 12:01:29,588 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=lib) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: lib
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/lib
    size: 23904
    state: directory
    uid: 501

2025-11-24 12:01:30,034 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=opt) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: opt
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/opt
    size: 7840
    state: directory
    uid: 501

2025-11-24 12:01:30,495 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=sbin) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: sbin
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/sbin
    size: 384
    state: directory
    uid: 501

2025-11-24 12:01:30,939 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=share) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: share
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/share
    size: 1824
    state: directory
    uid: 501

2025-11-24 12:01:31,386 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=share/zsh) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: share/zsh
    mode: '0755'
    owner: mopets
    path: /opt/homebrew/share/zsh
    size: 96
    state: directory
    uid: 501

2025-11-24 12:01:31,826 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=share/zsh/site-functions) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: share/zsh/site-functions
    mode: '0755'
    owner: mopets
    path: /opt/homebrew/share/zsh/site-functions
    size: 608
    state: directory
    uid: 501

2025-11-24 12:01:32,265 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=var) => 
    ansible_loop_var: item
    changed: false
    gid: 20
    group: staff
    item: var
    mode: '0775'
    owner: mopets
    path: /opt/homebrew/var
    size: 192
    state: directory
    uid: 501

2025-11-24 12:01:32,276 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Collect package manager fact.] **********************************************************
2025-11-24 12:01:32,722 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-24 12:01:32,726 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Force update brew after installation.] **************************************************
2025-11-24 12:01:32,745 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:119:11

117   # Privilege escalation is only required for inner steps when
118   # the `homebrew_user` doesn't match the `ansible_user_id`
119   become: "{{ (homebrew_user != ansible_user_id) | bool }}"
              ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:32,745 p=90207 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:120:16

118   # the `homebrew_user` doesn't match the `ansible_user_id`
119   become: "{{ (homebrew_user != ansible_user_id) | bool }}"
120   become_user: "{{ homebrew_user }}"
                   ^ column 16

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-24 12:01:32,745 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    false_condition: not pre_installed_brew.stat.exists
    skip_reason: Conditional result was False

2025-11-24 12:01:32,749 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Where is the cache?] ********************************************************************
2025-11-24 12:01:33,081 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    changed: false
    cmd:
    - /opt/homebrew/bin/brew
    - --cache
    delta: '0:00:00.030805'
    end: '2025-11-24 12:01:33.047063'
    msg: ''
    rc: 0
    start: '2025-11-24 12:01:33.016258'
    stderr: ''
    stderr_lines: <omitted>
    stdout: /Users/mopets/Library/Caches/Homebrew
    stdout_lines: <omitted>

2025-11-24 12:01:33,085 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure configured taps are tapped.] *****************************************************
2025-11-24 12:01:33,093 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    skipped_reason: No items in the list

2025-11-24 12:01:33,097 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure blacklisted cask applications are not installed.] ********************************
2025-11-24 12:01:33,105 p=90207 u=mopets n=ansible INFO| skipping: [127.0.0.1] => 
    changed: false
    skipped_reason: No items in the list

2025-11-24 12:01:33,109 p=90207 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Install configured cask applications.] **************************************************
2025-11-24 12:01:34,755 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=aerospace) => 
    ansible_loop_var: item
    changed: false
    item: aerospace
    msg: 'Cask already installed: aerospace'

2025-11-24 12:01:36,035 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=balenaetcher) => 
    ansible_loop_var: item
    changed: false
    item: balenaetcher
    msg: 'Cask already installed: balenaetcher'

2025-11-24 12:01:37,324 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=bambu-studio) => 
    ansible_loop_var: item
    changed: false
    item: bambu-studio
    msg: 'Cask already installed: bambu-studio'

2025-11-24 12:01:38,588 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=betterdisplay) => 
    ansible_loop_var: item
    changed: false
    item: betterdisplay
    msg: 'Cask already installed: betterdisplay'

2025-11-24 12:01:57,897 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: ✔︎ JSON API cask.jws.json
✔︎ JSON API formula.jws.json
Error: It seems there is already an App at '/Applications/BitBox.app'.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:01:57,897 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=bitbox) => 
    ansible_loop_var: item
    changed: false
    item: bitbox
    msg: |-
        ✔︎ JSON API cask.jws.json
        ✔︎ JSON API formula.jws.json
        Error: It seems there is already an App at '/Applications/BitBox.app'.

2025-11-24 12:01:59,175 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=bitwarden) => 
    ansible_loop_var: item
    changed: false
    item: bitwarden
    msg: 'Cask already installed: bitwarden'

2025-11-24 12:02:00,437 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=bluesnooze) => 
    ansible_loop_var: item
    changed: false
    item: bluesnooze
    msg: 'Cask already installed: bluesnooze'

2025-11-24 12:02:01,981 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=brave-browser) => 
    ansible_loop_var: item
    changed: false
    item: brave-browser
    msg: 'Cask already installed: brave-browser'

2025-11-24 12:02:03,302 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=calibre) => 
    ansible_loop_var: item
    changed: false
    item: calibre
    msg: 'Cask already installed: calibre'

2025-11-24 12:02:04,594 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=chatgpt) => 
    ansible_loop_var: item
    changed: false
    item: chatgpt
    msg: 'Cask already installed: chatgpt'

2025-11-24 12:02:09,061 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
sudo: a password is required
Error: Failure while executing; `/usr/bin/sudo -u root -E LOGNAME=mopets USER=mopets USERNAME=mopets -- /usr/sbin/installer -pkg /opt/homebrew/Caskroom/citrix-workspace/25.08.10.31/CitrixWorkspaceAppUniversal25.08.10.31.pkg -target /` exited with 1. Here's the output:
sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
sudo: a password is required
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:02:09,062 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=citrix-workspace) => 
    ansible_loop_var: item
    changed: false
    item: citrix-workspace
    msg: |-
        sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
        sudo: a password is required
        Error: Failure while executing; `/usr/bin/sudo -u root -E LOGNAME=mopets USER=mopets USERNAME=mopets -- /usr/sbin/installer -pkg /opt/homebrew/Caskroom/citrix-workspace/25.08.10.31/CitrixWorkspaceAppUniversal25.08.10.31.pkg -target /` exited with 1. Here's the output:
        sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
        sudo: a password is required

2025-11-24 12:02:10,362 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=codex) => 
    ansible_loop_var: item
    changed: false
    item: codex
    msg: 'Cask already installed: codex'

2025-11-24 12:02:15,594 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
sudo: a password is required
Error: Failure while executing; `/usr/bin/sudo -u root -E LOGNAME=mopets USER=mopets USERNAME=mopets -- /usr/sbin/installer -pkg /opt/homebrew/Caskroom/displaylink/14.2,2025-11/DisplayLinkManager-14.2.pkg -target /` exited with 1. Here's the output:
sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
sudo: a password is required
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:02:15,594 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=displaylink) => 
    ansible_loop_var: item
    changed: false
    item: displaylink
    msg: |-
        sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
        sudo: a password is required
        Error: Failure while executing; `/usr/bin/sudo -u root -E LOGNAME=mopets USER=mopets USERNAME=mopets -- /usr/sbin/installer -pkg /opt/homebrew/Caskroom/displaylink/14.2,2025-11/DisplayLinkManager-14.2.pkg -target /` exited with 1. Here's the output:
        sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
        sudo: a password is required

2025-11-24 12:02:17,093 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=duckduckgo) => 
    ansible_loop_var: item
    changed: false
    item: duckduckgo
    msg: 'Cask already installed: duckduckgo'

2025-11-24 12:02:18,517 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=firefox) => 
    ansible_loop_var: item
    changed: false
    item: firefox
    msg: 'Cask already installed: firefox'

2025-11-24 12:02:19,803 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=font-hack-nerd-font) => 
    ansible_loop_var: item
    changed: false
    item: font-hack-nerd-font
    msg: 'Cask already installed: font-hack-nerd-font'

2025-11-24 12:02:21,073 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=freecad) => 
    ansible_loop_var: item
    changed: false
    item: freecad
    msg: 'Cask already installed: freecad'

2025-11-24 12:02:52,367 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: Error: It seems there is already an App at '/Applications/Google Chrome.app'.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:02:52,368 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=google-chrome) => 
    ansible_loop_var: item
    changed: false
    item: google-chrome
    msg: 'Error: It seems there is already an App at ''/Applications/Google Chrome.app''.'

2025-11-24 12:02:53,896 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=google-drive) => 
    ansible_loop_var: item
    changed: false
    item: google-drive
    msg: 'Cask already installed: google-drive'

2025-11-24 12:02:55,189 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=grayjay) => 
    ansible_loop_var: item
    changed: false
    item: grayjay
    msg: 'Cask already installed: grayjay'

2025-11-24 12:02:56,692 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=handbrake) => 
    ansible_loop_var: item
    changed: false
    item: handbrake
    msg: 'Cask already installed: handbrake'

2025-11-24 12:02:58,208 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=handbrake-app) => 
    ansible_loop_var: item
    changed: false
    item: handbrake-app
    msg: 'Cask already installed: handbrake-app'

2025-11-24 12:02:59,611 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=hiddenbar) => 
    ansible_loop_var: item
    changed: false
    item: hiddenbar
    msg: 'Cask already installed: hiddenbar'

2025-11-24 12:03:01,040 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=iterm2) => 
    ansible_loop_var: item
    changed: false
    item: iterm2
    msg: 'Cask already installed: iterm2'

2025-11-24 12:03:02,443 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=jiggler) => 
    ansible_loop_var: item
    changed: false
    item: jiggler
    msg: 'Cask already installed: jiggler'

2025-11-24 12:03:03,718 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=karabiner-elements) => 
    ansible_loop_var: item
    changed: false
    item: karabiner-elements
    msg: 'Cask already installed: karabiner-elements'

2025-11-24 12:03:05,165 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=keepassxc) => 
    ansible_loop_var: item
    changed: false
    item: keepassxc
    msg: 'Cask already installed: keepassxc'

2025-11-24 12:03:06,422 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=keycastr) => 
    ansible_loop_var: item
    changed: false
    item: keycastr
    msg: 'Cask already installed: keycastr'

2025-11-24 12:03:07,694 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=ledger-live) => 
    ansible_loop_var: item
    changed: false
    item: ledger-live
    msg: 'Cask already installed: ledger-live'

2025-11-24 12:03:08,950 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=libreoffice) => 
    ansible_loop_var: item
    changed: false
    item: libreoffice
    msg: 'Cask already installed: libreoffice'

2025-11-24 12:03:10,231 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=localsend) => 
    ansible_loop_var: item
    changed: false
    item: localsend
    msg: 'Cask already installed: localsend'

2025-11-24 12:03:11,620 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=logos) => 
    ansible_loop_var: item
    changed: false
    item: logos
    msg: 'Cask already installed: logos'

2025-11-24 12:03:12,879 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=makemkv) => 
    ansible_loop_var: item
    changed: false
    item: makemkv
    msg: 'Cask already installed: makemkv'

2025-11-24 12:03:14,283 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=microsoft-edge) => 
    ansible_loop_var: item
    changed: false
    item: microsoft-edge
    msg: 'Cask already installed: microsoft-edge'

2025-11-24 12:03:17,178 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: Error: Cask 'nextcloud' conflicts with 'nextcloud-vfs'.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:03:17,178 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=nextcloud) => 
    ansible_loop_var: item
    changed: false
    item: nextcloud
    msg: 'Error: Cask ''nextcloud'' conflicts with ''nextcloud-vfs''.'

2025-11-24 12:03:18,447 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=nextcloud-vfs) => 
    ansible_loop_var: item
    changed: false
    item: nextcloud-vfs
    msg: 'Cask already installed: nextcloud-vfs'

2025-11-24 12:03:19,710 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=nordvpn) => 
    ansible_loop_var: item
    changed: false
    item: nordvpn
    msg: 'Cask already installed: nordvpn'

2025-11-24 12:03:20,966 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=notunes) => 
    ansible_loop_var: item
    changed: false
    item: notunes
    msg: 'Cask already installed: notunes'

2025-11-24 12:03:22,217 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=openmtp) => 
    ansible_loop_var: item
    changed: false
    item: openmtp
    msg: 'Cask already installed: openmtp'

2025-11-24 12:03:23,647 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=paragon-ntfs) => 
    ansible_loop_var: item
    changed: false
    item: paragon-ntfs
    msg: 'Cask already installed: paragon-ntfs'

2025-11-24 12:03:31,080 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
sudo: a password is required
Error: It seems there is already an App at '/Applications/Parallels Desktop.app'.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:03:31,080 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=parallels@18) => 
    ansible_loop_var: item
    changed: false
    item: parallels@18
    msg: |-
        sudo: a terminal is required to read the password; either use the -S option to read from standard input or configure an askpass helper
        sudo: a password is required
        Error: It seems there is already an App at '/Applications/Parallels Desktop.app'.

2025-11-24 12:03:32,360 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=proton-drive) => 
    ansible_loop_var: item
    changed: false
    item: proton-drive
    msg: 'Cask already installed: proton-drive'

2025-11-24 12:03:33,780 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=raspberry-pi-imager) => 
    ansible_loop_var: item
    changed: false
    item: raspberry-pi-imager
    msg: 'Cask already installed: raspberry-pi-imager'

2025-11-24 12:03:35,083 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=raycast) => 
    ansible_loop_var: item
    changed: false
    item: raycast
    msg: 'Cask already installed: raycast'

2025-11-24 12:03:36,488 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=rectangle) => 
    ansible_loop_var: item
    changed: false
    item: rectangle
    msg: 'Cask already installed: rectangle'

2025-11-24 12:03:37,746 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=rustdesk) => 
    ansible_loop_var: item
    changed: false
    item: rustdesk
    msg: 'Cask already installed: rustdesk'

2025-11-24 12:03:39,147 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=signal) => 
    ansible_loop_var: item
    changed: false
    item: signal
    msg: 'Cask already installed: signal'

2025-11-24 12:03:40,408 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=spotify) => 
    ansible_loop_var: item
    changed: false
    item: spotify
    msg: 'Cask already installed: spotify'

2025-11-24 12:03:41,796 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=steam) => 
    ansible_loop_var: item
    changed: false
    item: steam
    msg: 'Cask already installed: steam'

2025-11-24 12:03:43,208 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=telegram) => 
    ansible_loop_var: item
    changed: false
    item: telegram
    msg: 'Cask already installed: telegram'

2025-11-24 12:03:44,490 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=thunderbird) => 
    ansible_loop_var: item
    changed: false
    item: thunderbird
    msg: 'Cask already installed: thunderbird'

2025-11-24 12:03:56,217 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: Error: It seems there is already an App at '/Applications/Tor Browser.app'.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:03:56,217 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=tor-browser) => 
    ansible_loop_var: item
    changed: false
    item: tor-browser
    msg: 'Error: It seems there is already an App at ''/Applications/Tor Browser.app''.'

2025-11-24 12:03:57,621 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=visual-studio-code) => 
    ansible_loop_var: item
    changed: false
    item: visual-studio-code
    msg: 'Cask already installed: visual-studio-code'

2025-11-24 12:03:59,019 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=vlc) => 
    ansible_loop_var: item
    changed: false
    item: vlc
    msg: 'Cask already installed: vlc'

2025-11-24 12:04:00,426 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=wasabi-wallet) => 
    ansible_loop_var: item
    changed: false
    item: wasabi-wallet
    msg: 'Cask already installed: wasabi-wallet'

2025-11-24 12:04:13,542 p=90207 u=mopets n=ansible ERROR| [ERROR]: Task failed: Module failed: Error: It seems there is already an App at '/Applications/Webex.app'.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:148:7

146       loop: "{{ homebrew_cask_uninstalled_apps }}"
147
148     - name: Install configured cask applications.
          ^ column 7


2025-11-24 12:04:13,542 p=90207 u=mopets n=ansible INFO| failed: [127.0.0.1] (item=webex) => 
    ansible_loop_var: item
    changed: false
    item: webex
    msg: 'Error: It seems there is already an App at ''/Applications/Webex.app''.'

2025-11-24 12:04:14,949 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=whatsapp) => 
    ansible_loop_var: item
    changed: false
    item: whatsapp
    msg: 'Cask already installed: whatsapp'

2025-11-24 12:04:16,228 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=zettlr) => 
    ansible_loop_var: item
    changed: false
    item: zettlr
    msg: 'Cask already installed: zettlr'

2025-11-24 12:04:17,635 p=90207 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=zoom) => 
    ansible_loop_var: item
    changed: false
    item: zoom
    msg: 'Cask already installed: zoom'

2025-11-24 12:04:17,652 p=90207 u=mopets n=ansible INFO| PLAY RECAP ***************************************************************************************************************
2025-11-24 12:04:17,652 p=90207 u=mopets n=ansible INFO| 127.0.0.1                  : ok=15   changed=0    unreachable=0    failed=1    skipped=16   rescued=0    ignored=0   
2025-11-25 09:56:30,696 p=92924 u=mopets n=ansible INFO| PLAY [Configure host.] *********************************************************
2025-11-25 09:56:30,714 p=92924 u=mopets n=ansible INFO| TASK [Gathering Facts] *********************************************************
2025-11-25 09:56:31,966 p=92924 u=mopets n=ansible WARNING| [WARNING]: Host '127.0.0.1' is using the discovered Python interpreter at '/opt/homebrew/bin/python3.14', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.20/reference_appendices/interpreter_discovery.html for more information.

2025-11-25 09:56:31,966 p=92924 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:31,988 p=92924 u=mopets n=ansible INFO| TASK [Include playbook configuration.] *****************************************
2025-11-25 09:56:32,000 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:32,004 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Am I running on Mac OS X?] *********
2025-11-25 09:56:32,014 p=92924 u=mopets n=ansible WARNING| [WARNING]: Deprecation warnings can be disabled by setting `deprecation_warnings=False` in ansible.cfg.

2025-11-25 09:56:32,015 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:7:9

5   fail:
6     msg: Target host is not running Mac OS X
7   when: ansible_distribution != 'MacOSX'
          ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:32,015 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:32,019 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Remove existing Command Line Tools installation] ***
2025-11-25 09:56:32,027 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:32,032 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check that the Command Line Tools path is present] ***
2025-11-25 09:56:32,385 p=92924 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:32,390 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Is the C++ compiler useable?] ******
2025-11-25 09:56:32,881 p=92924 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:32,885 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check the Command Line Tools package metadata] ***
2025-11-25 09:56:33,348 p=92924 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:33,352 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Prepare to install Command Line Tools] ***
2025-11-25 09:56:33,362 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:33,367 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check for Command Line Tools in Software Update list (MacOS < 10.15).] ***
2025-11-25 09:56:33,384 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:55:7

53   register: su_list_old
54   when:
55     - ansible_distribution_version is version('10.15', '<')
         ^ column 7

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,384 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:33,389 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check for Command Line Tools in Software Update list (MacOS >= 10.15).] ***
2025-11-25 09:56:33,404 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:74:7

72   register: su_list_new
73   when:
74     - ansible_distribution_version is version('10.15', '>=')
         ^ column 7

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,404 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:33,409 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : set su_list for (MacOS < 10.15).] ***
2025-11-25 09:56:33,424 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:33,429 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : set su_list for (MacOS >= 10.15).] ***
2025-11-25 09:56:33,442 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:33,446 p=92924 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Install Command Line Tools] ********
2025-11-25 09:56:33,458 p=92924 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:33,467 p=92924 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Determine Homebrew ownership variables] *******
2025-11-25 09:56:33,498 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:5:21

3   set_fact:
4     homebrew_user: '{{ homebrew_user | default(ansible_user_id) }}'
5     homebrew_group: '{{ homebrew_group | default(ansible_user_gid) }}'
                      ^ column 21

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,498 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:4:20

2 - name: Determine Homebrew ownership variables
3   set_fact:
4     homebrew_user: '{{ homebrew_user | default(ansible_user_id) }}'
                     ^ column 20

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,498 p=92924 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:33,502 p=92924 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (M1).] ***
2025-11-25 09:56:33,697 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:14:9

12     state: directory
13   become: true
14   when: ansible_machine == 'arm64'
           ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,697 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:11:12

 9   file:
10     path: "{{ homebrew_prefix }}"
11     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,698 p=92924 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/defaults/main.yml:4:18

2 homebrew_repo: https://github.com/Homebrew/brew
3
4 homebrew_prefix: "{{ (ansible_machine == 'arm64') | ternary('/opt/homebrew', '/usr/local') }}"
                   ^ column 18

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:33,698 p=92924 u=mopets n=ansible ERROR| [ERROR]: Task failed: Premature end of stream waiting for become success.
>>> Standard Error
sudo: a password is required
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:8:3

6
7 # Homebrew setup prerequisites.
8 - name: Ensure Homebrew parent directory has correct permissions (M1).
    ^ column 3


2025-11-25 09:56:33,698 p=92924 u=mopets n=ansible INFO| fatal: [127.0.0.1]: FAILED! => 
    changed: false
    msg: |-
        Task failed: Premature end of stream waiting for become success.
        >>> Standard Error
        sudo: a password is required

2025-11-25 09:56:33,698 p=92924 u=mopets n=ansible INFO| PLAY RECAP *********************************************************************
2025-11-25 09:56:33,698 p=92924 u=mopets n=ansible INFO| 127.0.0.1                  : ok=5    changed=0    unreachable=0    failed=1    skipped=9    rescued=0    ignored=0   
2025-11-25 09:56:53,502 p=93130 u=mopets n=ansible INFO| PLAY [Configure host.] *********************************************************
2025-11-25 09:56:53,518 p=93130 u=mopets n=ansible INFO| TASK [Gathering Facts] *********************************************************
2025-11-25 09:56:54,119 p=93130 u=mopets n=ansible WARNING| [WARNING]: Host '127.0.0.1' is using the discovered Python interpreter at '/opt/homebrew/bin/python3.14', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.20/reference_appendices/interpreter_discovery.html for more information.

2025-11-25 09:56:54,119 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:54,140 p=93130 u=mopets n=ansible INFO| TASK [Include playbook configuration.] *****************************************
2025-11-25 09:56:54,152 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:54,156 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Am I running on Mac OS X?] *********
2025-11-25 09:56:54,168 p=93130 u=mopets n=ansible WARNING| [WARNING]: Deprecation warnings can be disabled by setting `deprecation_warnings=False` in ansible.cfg.

2025-11-25 09:56:54,168 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:7:9

5   fail:
6     msg: Target host is not running Mac OS X
7   when: ansible_distribution != 'MacOSX'
          ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:54,168 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:54,172 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Remove existing Command Line Tools installation] ***
2025-11-25 09:56:54,182 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:54,187 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check that the Command Line Tools path is present] ***
2025-11-25 09:56:54,533 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:54,538 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Is the C++ compiler useable?] ******
2025-11-25 09:56:54,896 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:54,900 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check the Command Line Tools package metadata] ***
2025-11-25 09:56:55,205 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:55,209 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Prepare to install Command Line Tools] ***
2025-11-25 09:56:55,219 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,223 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check for Command Line Tools in Software Update list (MacOS < 10.15).] ***
2025-11-25 09:56:55,237 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:55:7

53   register: su_list_old
54   when:
55     - ansible_distribution_version is version('10.15', '<')
         ^ column 7

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,237 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,241 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Check for Command Line Tools in Software Update list (MacOS >= 10.15).] ***
2025-11-25 09:56:55,257 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/elliotweiser.osx-command-line-tools/tasks/main.yml:74:7

72   register: su_list_new
73   when:
74     - ansible_distribution_version is version('10.15', '>=')
         ^ column 7

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,258 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,262 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : set su_list for (MacOS < 10.15).] ***
2025-11-25 09:56:55,277 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,282 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : set su_list for (MacOS >= 10.15).] ***
2025-11-25 09:56:55,295 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,299 p=93130 u=mopets n=ansible INFO| TASK [elliotweiser.osx-command-line-tools : Install Command Line Tools] ********
2025-11-25 09:56:55,310 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,318 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Determine Homebrew ownership variables] *******
2025-11-25 09:56:55,343 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:5:21

3   set_fact:
4     homebrew_user: '{{ homebrew_user | default(ansible_user_id) }}'
5     homebrew_group: '{{ homebrew_group | default(ansible_user_gid) }}'
                      ^ column 21

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,343 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:4:20

2 - name: Determine Homebrew ownership variables
3   set_fact:
4     homebrew_user: '{{ homebrew_user | default(ansible_user_id) }}'
                     ^ column 20

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,343 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:55,347 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (M1).] ***
2025-11-25 09:56:55,891 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:14:9

12     state: directory
13   become: true
14   when: ansible_machine == 'arm64'
           ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,891 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:11:12

 9   file:
10     path: "{{ homebrew_prefix }}"
11     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,891 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/defaults/main.yml:4:18

2 homebrew_repo: https://github.com/Homebrew/brew
3
4 homebrew_prefix: "{{ (ansible_machine == 'arm64') | ternary('/opt/homebrew', '/usr/local') }}"
                   ^ column 18

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,891 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:55,895 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (MacOS >= 10.13).] ***
2025-11-25 09:56:55,904 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:17:9

15
16 - name: Ensure Homebrew parent directory has correct permissions (Intel).
17   when: ansible_machine == 'x86_64'
           ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:55,905 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,908 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew parent directory has correct permissions (MacOS < 10.13).] ***
2025-11-25 09:56:55,919 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:55,923 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Check if homebrew already exists.] ************
2025-11-25 09:56:56,209 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:56,213 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew directory exists.] ************
2025-11-25 09:56:56,675 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:46:12

44     path: "{{ homebrew_install_path }}"
45     owner: "{{ homebrew_user }}"
46     group: "{{ homebrew_group }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:56,675 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:45:12

43   file:
44     path: "{{ homebrew_install_path }}"
45     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:56,675 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:56,679 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure Homebrew is installed.] ****************
2025-11-25 09:56:56,690 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:60:16

58     depth: 1
59   become: true
60   become_user: "{{ homebrew_user }}"
                  ^ column 16

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:56,690 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:56:56,695 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure proper permissions and ownership on homebrew_brew_bin_path dirs.] ***
2025-11-25 09:56:57,156 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:69:12

67     state: directory
68     owner: "{{ homebrew_user }}"
69     group: "{{ homebrew_group }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:57,156 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:68:12

66     path: "{{ homebrew_brew_bin_path }}"
67     state: directory
68     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:56:57,156 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:56:57,160 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure proper ownership on homebrew_install_path subdirs.] ***
2025-11-25 09:57:03,563 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:78:12

76     state: directory
77     owner: "{{ homebrew_user }}"
78     group: "{{ homebrew_group }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:03,563 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:77:12

75     path: "{{ homebrew_install_path }}"
76     state: directory
77     owner: "{{ homebrew_user }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:03,563 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1]
2025-11-25 09:57:03,568 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Check if homebrew binary is already in place.] ***
2025-11-25 09:57:03,855 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:57:03,860 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Symlink brew to homebrew_brew_bin_path.] ******
2025-11-25 09:57:03,868 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:57:03,875 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Add missing folder if not on Apple-chipset] ***
2025-11-25 09:57:03,886 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:101:9

 99   set_fact:
100     homebrew_folders_base: "{{ homebrew_folders_base + ['Homebrew'] }}"
101   when: ansible_machine != 'arm64'
            ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:03,886 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:57:03,890 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure proper homebrew folders are in place.] ***
2025-11-25 09:57:04,356 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:108:12

106     state: directory
107     owner: "{{ homebrew_user }}"
108     group: "{{ homebrew_group }}"
               ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:04,356 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:107:12

105     path: "{{ homebrew_prefix }}/{{ item }}"
106     state: directory
107     owner: "{{ homebrew_user }}"
               ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:04,356 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=Cellar)
2025-11-25 09:57:04,795 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=Frameworks)
2025-11-25 09:57:05,234 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=Caskroom)
2025-11-25 09:57:05,672 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=bin)
2025-11-25 09:57:06,118 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=etc)
2025-11-25 09:57:06,556 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=include)
2025-11-25 09:57:07,001 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=lib)
2025-11-25 09:57:07,446 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=opt)
2025-11-25 09:57:07,886 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=sbin)
2025-11-25 09:57:08,330 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=share)
2025-11-25 09:57:08,772 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=share/zsh)
2025-11-25 09:57:09,215 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=share/zsh/site-functions)
2025-11-25 09:57:09,654 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=var)
2025-11-25 09:57:09,664 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Collect package manager fact.] ****************
2025-11-25 09:57:10,086 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:57:10,090 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Force update brew after installation.] ********
2025-11-25 09:57:10,109 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:119:11

117   # Privilege escalation is only required for inner steps when
118   # the `homebrew_user` doesn't match the `ansible_user_id`
119   become: "{{ (homebrew_user != ansible_user_id) | bool }}"
              ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:10,109 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/tasks/main.yml:120:16

118   # the `homebrew_user` doesn't match the `ansible_user_id`
119   become: "{{ (homebrew_user != ansible_user_id) | bool }}"
120   become_user: "{{ homebrew_user }}"
                   ^ column 16

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:57:10,109 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:57:10,113 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Where is the cache?] **************************
2025-11-25 09:57:10,417 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:57:10,421 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure configured taps are tapped.] ***********
2025-11-25 09:57:10,429 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:57:10,434 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure blacklisted cask applications are not installed.] ***
2025-11-25 09:57:10,443 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:57:10,447 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Install configured cask applications.] ********
2025-11-25 09:57:12,036 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=chromedriver)
2025-11-25 09:57:13,314 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=docker)
2025-11-25 09:57:14,563 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=dropbox)
2025-11-25 09:57:16,126 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=firefox)
2025-11-25 09:57:17,404 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=google-chrome)
2025-11-25 09:57:18,807 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=handbrake)
2025-11-25 09:57:20,076 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=licecap)
2025-11-25 09:57:21,328 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=sequel-ace)
2025-11-25 09:57:22,583 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=slack)
2025-11-25 09:57:23,837 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=sublime-text)
2025-11-25 09:57:25,114 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=transmit)
2025-11-25 09:57:25,123 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure blacklisted homebrew packages are not installed.] ***
2025-11-25 09:57:25,132 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:57:25,136 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Ensure configured homebrew packages are installed.] ***
2025-11-25 09:57:26,814 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=autoconf)
2025-11-25 09:57:28,328 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=bash-completion)
2025-11-25 09:57:29,924 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=doxygen)
2025-11-25 09:57:31,524 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=gettext)
2025-11-25 09:57:33,143 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=gifsicle)
2025-11-25 09:57:34,666 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=git)
2025-11-25 09:57:36,181 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=gh)
2025-11-25 09:57:37,688 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=go)
2025-11-25 09:57:39,174 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=gpg)
2025-11-25 09:57:40,761 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=httpie)
2025-11-25 09:57:42,371 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=iperf)
2025-11-25 09:57:43,925 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=libevent)
2025-11-25 09:57:45,442 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=sqlite)
2025-11-25 09:57:46,985 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=nmap)
2025-11-25 09:57:48,535 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=node)
2025-11-25 09:57:50,055 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=nvm)
2025-11-25 09:57:51,569 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=php)
2025-11-25 09:57:53,105 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=pngpaste)
2025-11-25 09:57:54,645 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=ssh-copy-id)
2025-11-25 09:57:56,193 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=readline)
2025-11-25 09:57:57,714 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=openssl)
2025-11-25 09:57:59,214 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=pv)
2025-11-25 09:58:00,720 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => (item=wget)
2025-11-25 09:58:02,256 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=wrk)
2025-11-25 09:58:03,764 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=zsh-history-substring-search)
2025-11-25 09:58:03,779 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Upgrade all homebrew packages (if configured).] ***
2025-11-25 09:58:03,803 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:03,808 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Check for Brewfile.] **************************
2025-11-25 09:58:04,096 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:58:04,101 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.homebrew : Install from Brewfile.] ***********************
2025-11-25 09:58:04,120 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:04,127 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Install chezmoi] ***********************************************
2025-11-25 09:58:05,686 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:58:05,691 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Ensure chezmoi config directory exists] ************************
2025-11-25 09:58:05,987 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:11:12

 9     path: "{{ chezmoi_config_path | dirname }}"
10     state: directory
11     owner: "{{ ansible_user_id }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:05,987 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/default.config.yml:31:22

29 chezmoi_repo_local_destination: ~/.local/share/chezmoi
30 chezmoi_branch: main
31 chezmoi_config_path: "/Users/{{ ansible_user_id }}/.config/chezmoi/chezmoi.yaml"
                        ^ column 22

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:05,987 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:58:05,993 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Write chezmoi config] ******************************************
2025-11-25 09:58:06,270 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:18:12

16     src: chezmoi.yaml.j2
17     dest: "{{ chezmoi_config_path }}"
18     owner: "{{ ansible_user_id }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:06,271 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1]
2025-11-25 09:58:06,274 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Ensure chezmoi backup directory exists] ************************
2025-11-25 09:58:06,542 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:25:12

23     path: "/Users/{{ ansible_user_id }}/.local/share/chezmoi-backups/pre-apply"
24     state: directory
25     owner: "{{ ansible_user_id }}"
              ^ column 12

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:06,542 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:23:11

21 - name: Ensure chezmoi backup directory exists
22   ansible.builtin.file:
23     path: "/Users/{{ ansible_user_id }}/.local/share/chezmoi-backups/pre-apply"
             ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:06,542 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1]
2025-11-25 09:58:06,546 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Backup existing dotfiles before applying chezmoi] **************
2025-11-25 09:58:06,812 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:34:9

32       - "-a"
33       - "--relative"
34       - "/Users/{{ ansible_user_id }}/{{ item }}"
           ^ column 9

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:06,812 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:36:14

34       - "/Users/{{ ansible_user_id }}/{{ item }}"
35       - "/Users/{{ ansible_user_id }}/.local/share/chezmoi-backups/pre-apply/"
36     creates: "/Users/{{ ansible_user_id }}/.local/share/chezmoi-backups/pre-apply/Users/{{ ansible_user_id }}/{{ i...
                ^ column 14

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:06,812 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.bashrc)
2025-11-25 09:58:07,072 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.alias)
2025-11-25 09:58:07,328 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.tmux.conf)
2025-11-25 09:58:07,585 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.tmux.conf-t)
2025-11-25 09:58:07,837 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.vimrc)
2025-11-25 09:58:08,098 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.ansible.cfg)
2025-11-25 09:58:08,350 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.aerospace.toml)
2025-11-25 09:58:08,602 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.config/nvim)
2025-11-25 09:58:08,855 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.config/tridactyl)
2025-11-25 09:58:09,107 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.config/sketchybar)
2025-11-25 09:58:09,361 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1] => (item=.config/karabiner)
2025-11-25 09:58:09,369 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Check if chezmoi source is a git repo] *************************
2025-11-25 09:58:09,638 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:53:11

51 - name: Check if chezmoi source is a git repo
52   ansible.builtin.stat:
53     path: "/Users/{{ ansible_user_id }}/.local/share/chezmoi/.git"
             ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:09,638 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:58:09,642 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Remove existing non-git chezmoi source dir] ********************
2025-11-25 09:58:09,652 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:09,657 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Ensure chezmoi source repo is present] *************************
2025-11-25 09:58:13,030 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/roles/chezmoi/tasks/main.yml:65:11

63   ansible.builtin.git:
64     repo: "{{ chezmoi_repo }}"
65     dest: "/Users/{{ ansible_user_id }}/.local/share/chezmoi"
             ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:13,031 p=93130 u=mopets n=ansible INFO| changed: [127.0.0.1]
2025-11-25 09:58:13,037 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Check for pending chezmoi changes] *****************************
2025-11-25 09:58:13,301 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,305 p=93130 u=mopets n=ansible INFO| TASK [chezmoi : Apply chezmoi state] *******************************************
2025-11-25 09:58:13,323 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,330 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Ensure MAS is installed.] **************************
2025-11-25 09:58:13,351 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,355 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Get MAS account status] ****************************
2025-11-25 09:58:13,376 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,381 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Sign in to MAS when email and password are provided.] ***
2025-11-25 09:58:13,401 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,406 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Sign in to MAS when email is provided, and complete password and 2FA using dialog.] ***
2025-11-25 09:58:13,426 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,431 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : List installed MAS apps.] **************************
2025-11-25 09:58:13,452 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,456 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Ensure unwanted MAS apps are uninstalled.] *********
2025-11-25 09:58:13,468 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,473 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Ensure configured MAS apps are installed.] *********
2025-11-25 09:58:13,485 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,490 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.mas : Upgrade all apps (if configured).] *****************
2025-11-25 09:58:13,510 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,518 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.dock : Install dockutil.] ********************************
2025-11-25 09:58:13,529 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,534 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.dock : Remove configured Dock items.] ********************
2025-11-25 09:58:13,544 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,548 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.dock : Ensure required dock items exist.] ****************
2025-11-25 09:58:13,558 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,563 p=93130 u=mopets n=ansible INFO| TASK [geerlingguy.mac.dock : Ensure dock items are in correct position.] *******
2025-11-25 09:58:13,572 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,580 p=93130 u=mopets n=ansible INFO| TASK [Register path to sed.] ***************************************************
2025-11-25 09:58:13,590 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,595 p=93130 u=mopets n=ansible INFO| TASK [Define sed_path variable.] ***********************************************
2025-11-25 09:58:13,605 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,611 p=93130 u=mopets n=ansible INFO| TASK [Copy sudoers configuration into place.] **********************************
2025-11-25 09:58:13,620 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:13,624 p=93130 u=mopets n=ansible INFO| TASK [Ensure default shell is zsh] *********************************************
2025-11-25 09:58:14,348 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/opencode_repo/mac-playbook/tasks/terminal.yml:5:11

3   become: true
4   ansible.builtin.user:
5     name: "{{ ansible_user_id }}"
            ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:14,348 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1]
2025-11-25 09:58:14,354 p=93130 u=mopets n=ansible INFO| TASK [Note terminal settings are managed via chezmoi] **************************
2025-11-25 09:58:14,366 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    msg: Terminal configs (prompt, aliases, tmux) are applied via chezmoi dotfiles.

2025-11-25 09:58:14,369 p=93130 u=mopets n=ansible INFO| TASK [Run .osx dotfiles.] ******************************************************
2025-11-25 09:58:14,632 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,636 p=93130 u=mopets n=ansible INFO| TASK [Gather information about the current Documents path] *********************
2025-11-25 09:58:14,645 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,649 p=93130 u=mopets n=ansible INFO| TASK [Abort if Documents path is an unexpected type] ***************************
2025-11-25 09:58:14,658 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,662 p=93130 u=mopets n=ansible INFO| TASK [Ensure Nextcloud base directory exists] **********************************
2025-11-25 09:58:14,672 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,677 p=93130 u=mopets n=ansible INFO| TASK [Ensure Nextcloud Documents directory exists] *****************************
2025-11-25 09:58:14,686 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,693 p=93130 u=mopets n=ansible INFO| TASK [Collect existing Documents contents when a directory is present] *********
2025-11-25 09:58:14,704 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,708 p=93130 u=mopets n=ansible INFO| TASK [Move existing Documents contents into Nextcloud] *************************
2025-11-25 09:58:14,718 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,723 p=93130 u=mopets n=ansible INFO| TASK [Remove the original Documents directory after migration] *****************
2025-11-25 09:58:14,732 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,737 p=93130 u=mopets n=ansible INFO| TASK [Create Documents symlink pointing to Nextcloud] **************************
2025-11-25 09:58:14,747 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,751 p=93130 u=mopets n=ansible INFO| TASK [Install global Composer packages.] ***************************************
2025-11-25 09:58:14,761 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,765 p=93130 u=mopets n=ansible INFO| TASK [Install global NPM packages.] ********************************************
2025-11-25 09:58:14,774 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,779 p=93130 u=mopets n=ansible INFO| TASK [Install global Pip packages.] ********************************************
2025-11-25 09:58:14,788 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,793 p=93130 u=mopets n=ansible INFO| TASK [Install global Ruby gems.] ***********************************************
2025-11-25 09:58:14,803 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,807 p=93130 u=mopets n=ansible INFO| TASK [Ensure Sublime Text directories exist.] **********************************
2025-11-25 09:58:14,819 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1] => (item=~/Library/Application Support/Sublime Text/Packages/User) 
2025-11-25 09:58:14,820 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1] => (item=~/Library/Application Support/Sublime Text/Installed Packages) 
2025-11-25 09:58:14,821 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,825 p=93130 u=mopets n=ansible INFO| TASK [Ensure Sublime Package Control is installed.] ****************************
2025-11-25 09:58:14,835 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,840 p=93130 u=mopets n=ansible INFO| TASK [Ensure Sublime Package Control Packages are configured.] *****************
2025-11-25 09:58:14,851 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,854 p=93130 u=mopets n=ansible INFO| TASK [Ensure Sublime text user Preferences and theme are set.] *****************
2025-11-25 09:58:14,865 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1] => (item=Markdown.sublime-settings) 
2025-11-25 09:58:14,866 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1] => (item=Plain text.sublime-settings) 
2025-11-25 09:58:14,867 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1] => (item=Preferences.sublime-settings) 
2025-11-25 09:58:14,869 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1] => (item=WordCount.sublime-settings) 
2025-11-25 09:58:14,869 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,874 p=93130 u=mopets n=ansible INFO| TASK [Run configured post-provision ansible task files.] ***********************
2025-11-25 09:58:14,895 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,899 p=93130 u=mopets n=ansible INFO| TASK [Show manual next steps] **************************************************
2025-11-25 09:58:14,911 p=93130 u=mopets n=ansible INFO| ok: [127.0.0.1] => 
    msg:
    - 'Manual next steps after this playbook:'
    - '1) Restore SSH keys from your encrypted backup into ~/.ssh:'
    - '   gpg -d ssh-backup.tar.gz.gpg > ssh-backup.tar.gz && tar xzf ssh-backup.tar.gz
        && rm ssh-backup.tar.gz'
    - '2) Run chezmoi to restore dotfiles (if not done already):'
    - '   chezmoi init git@github.com:YOUR_USER/dotfiles.git && chezmoi apply'
    - 3) Log into Bitwarden, Nextcloud, App Store, iCloud (Photos/Music), email, calendars,
        browsers, and chat apps.
    - 4) Configure Time Machine backup and import VPN profiles (e.g. WireGuard) if you
        use them.
    - 5) Restore app-specific data if needed (e.g. Libation library, RustDesk config,
        Parallels .pvm VMs).

2025-11-25 09:58:14,919 p=93130 u=mopets n=ansible INFO| RUNNING HANDLER [geerlingguy.mac.homebrew : Clear homebrew cache] **************
2025-11-25 09:58:14,940 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/handlers/main.yml:9:11

7     state: absent
8   when: 'homebrew_clear_cache | bool'
9   become: "{{ (homebrew_user != ansible_user_id) | bool }}"
            ^ column 11

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:14,940 p=93130 u=mopets n=ansible INFO| [DEPRECATION WARNING]: INJECT_FACTS_AS_VARS default to `True` is deprecated, top-level facts will not be auto injected after the change. This feature will be removed from ansible-core version 2.24.
Origin: /Users/mopets/.ansible/collections/ansible_collections/geerlingguy/mac/roles/homebrew/handlers/main.yml:10:16

 8   when: 'homebrew_clear_cache | bool'
 9   become: "{{ (homebrew_user != ansible_user_id) | bool }}"
10   become_user: "{{ homebrew_user }}"
                  ^ column 16

Use `ansible_facts["fact_name"]` (no `ansible_` prefix) instead.


2025-11-25 09:58:14,940 p=93130 u=mopets n=ansible INFO| skipping: [127.0.0.1]
2025-11-25 09:58:14,941 p=93130 u=mopets n=ansible INFO| PLAY RECAP *********************************************************************
2025-11-25 09:58:14,941 p=93130 u=mopets n=ansible INFO| 127.0.0.1                  : ok=27   changed=7    unreachable=0    failed=0    skipped=57   rescued=0    ignored=0   
